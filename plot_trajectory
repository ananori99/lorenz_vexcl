#!/usr/bin/python
#
# Plots trajectory.txt file that was generated by lorenz_test.
#
# In case a file name is given as a command line parameter,
# the figure is saved to the file.
# File type is determined by extension.
#
# Requires matplotlib (matplotlib.org)

import sys

infile = 'trajectory.dat'

if (len(sys.argv[1:]) > 0):
    import matplotlib
    matplotlib.use('Agg')
    outfile = sys.argv[1]
    quiet = True
else:
    quiet = False

from pylab import *
from mpl_toolkits.mplot3d import Axes3D

#----------------------------------------------------------------------------
t = np.loadtxt(infile, delimiter=' ',
        dtype={
            'names'   : ('x',  'y',  'z'),
            'formats' : ('f8', 'f8', 'f8')
            }
        )

fig = figure(num=1, figsize=(7,7))
ax = Axes3D(fig)

ax.plot(t['x'], t['y'], t['z'], 'k-')

if quiet: savefig(outfile)
else:     show()
